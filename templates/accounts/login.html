{% extends "base_auth.html" %}
{% load static %}

{% block title %}Sign In - Itzamma Fitness{% endblock %}

{% block head %}
<!-- Optional: small tweak to ensure smooth font rendering -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
<style>
  html, body { font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; }
</style>
{% endblock %}

{% block content %}
<div class="min-h-screen flex items-center justify-center bg-[#0b0f17] px-4 py-12">
  <div class="w-full max-w-md">
    <!-- Card -->
    <div class="bg-[#0f1724] rounded-2xl shadow-2xl overflow-hidden">
      <!-- Header area with logo -->
      <div class="flex flex-col items-center py-8 px-6">
        <!-- Logo: uses your uploaded render path -->
        <div class="w-16 h-16 rounded-full bg-gradient-to-br from-emerald-400 to-green-400 flex items-center justify-center mb-4 shadow-lg">
          <img src="/static/images/loginprofile.png" alt="logo" class="w-10 h-10 object-contain"/>
        </div>

        <h1 class="text-3xl font-extrabold text-white leading-tight">Itzamma Fitness</h1>
        <p class="text-sm text-slate-300 mt-2">Inicia sesión para continuar tu camino al mejor entrenamiento</p>
      </div>

      <!-- Form area -->
      <div class="px-6 pb-8">
        <form method="POST" action="{% url 'login' %}" class="space-y-4">
          {% csrf_token %}

          <!-- Email / Username -->
          <div>
            <label class="text-sm text-slate-300 block mb-2">Usuario</label>
            <input
              name="username"
              type="text"
              autocomplete="username"
              required
              hx-post="{% url 'validate_login' %}"
              hx-trigger="keyup changed delay:300ms"
              hx-target="#username-feedback"
              hx-swap="innerHTML"
              class="w-full bg-[#0b1220] placeholder:text-slate-500 text-slate-100 border border-[#1f2937] rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-emerald-400"
              placeholder="you@example.com"
            />
            <div id="username-feedback" class="mt-2"></div>
          </div>

          <!-- Password -->
          <div>
            <label class="text-sm text-slate-300 block mb-2">Password</label>
            <div class="relative">
              <input
                name="password"
                type="password"
                autocomplete="current-password"
                required
                class="w-full bg-[#0b1220] placeholder:text-slate-500 text-slate-100 border border-[#1f2937] rounded-lg px-4 py-3 pr-10 focus:outline-none focus:ring-2 focus:ring-emerald-400"
                placeholder="Enter your password"
              />
              <!-- eye icon placeholder (non-functional) -->
              <button type="button" class="absolute right-3 top-3 text-slate-400" aria-label="toggle password">
                <!-- simple eye icon -->
                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/></svg>
              </button>
            </div>
          </div>

          <!-- Row: remember + forgot -->
          <div class="flex items-center justify-between text-sm">
            <label class="flex items-center space-x-2 text-slate-300">
              <input type="checkbox" name="remember" class="w-4 h-4 rounded border-[#2b3440] bg-[#0b1220] accent-emerald-400">
              <span>Remember me</span>
            </label>
            <a href="#" class="text-emerald-300 hover:underline">¿Olvidaste tu contraseña?</a>
          </div>

          <!-- Submit -->
          <div>
            <button type="submit" class="w-full py-3 rounded-lg bg-emerald-400 text-[#052018] font-semibold hover:bg-emerald-500 transition">
              Sign In
            </button>
          </div>

          <!-- Separator -->
          <div class="flex items-center gap-3">
            <div class="flex-1 h-px bg-[#161a23]"></div>
            <div class="text-xs text-slate-400">O ingresa con</div>
            <div class="flex-1 h-px bg-[#161a23]"></div>
          </div>

          <!-- Social buttons -->
          <div class="grid grid-cols-2 gap-3">
            <button type="button" class="w-full py-2 rounded-lg border border-[#1f2937] text-slate-100 flex items-center justify-center space-x-2">
              <!-- Google icon -->
              <svg class="w-5 h-5" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path fill="#EA4335" d="M24 9.5c3.8 0 6.9 1.3 9.1 2.6l6.8-6.8C35 2 29.9 0 24 0 14.7 0 6.9 5.2 2.8 12.8l7.9 6.1C12.8 14.1 18 9.5 24 9.5z"/><path fill="#34A853" d="M46.5 24.5c0-1.6-.1-2.8-.4-4H24v8h13c-.6 3.3-2.5 6.1-5.3 7.9l8 6.2c4.7-4.4 7.8-10.8 7.8-18.1z"/><path fill="#4A90E2" d="M9.8 29.2C8.8 26.8 8.2 24.4 8.2 22c0-2.4.6-4.8 1.6-7.2L2.9 8.7C1.1 12.4 0 16.9 0 22c0 5 1 9.6 2.9 13.9l6.9-6.7z"/><path fill="#FBBC05" d="M24 48c6.5 0 12-2.3 16.3-6.3l-8-6.2C30.8 36.2 27.6 37.5 24 37.5c-6 0-11.2-4.6-12.8-10.9l-7.9 6.1C6.9 42.8 14.7 48 24 48z"/></svg>
              <span class="text-sm">Google</span>
            </button>
          </div>

          <!-- Signup hint -->
          <p class="text-center text-sm text-slate-400 mt-3">
            ¿No tienes una cuenta?
            <a href="#" class="text-emerald-300 font-semibold hover:underline"> Regístrate</a>
          </p>

          <!-- Terms -->
          <p class="text-xs text-slate-500 mt-4 text-center px-4">
            Al iniciar sesión, aceptas nuestros
            <a href="#" class="underline text-slate-300">Terminos y condiciones</a> &
            <a href="#" class="underline text-slate-300">Política de privacidad</a>.
          </p>

          {% if messages %}
            <div class="mt-3 text-center text-rose-400">
              {% for message in messages %}
                {{ message }}
              {% endfor %}
            </div>
          {% endif %}
        </form>

      </div>
    </div>
  </div>
</div>
{% endblock %}
